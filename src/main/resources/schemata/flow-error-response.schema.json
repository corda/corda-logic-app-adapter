{
  "definitions": {},
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/corda/corda-logicapp-connector/blob/master/src/main/resources/schemata/flow-error-response.schema.json",
  "type": "object",
  "required": [
    "messageName",
    "requestId",
    "additionalInformation",
    "status",
    "messageSchemaVersion"
  ],
  "properties": {
    "messageName": {
      "$id": "#/properties/messageName",
      "type": "string",
      "description": "The message name of the request leading to the error.",
      "examples": [
        "CreateContractUpdate",
        "CreateContractRequest",
        "CreateContractActionRequest"
      ]
    },
    "requestId": {
      "$id": "#/properties/requestId",
      "description": "A simple correlation ID, generated in the ingress message.",
      "type": "string"
    },
    "additionalInformation": {
      "$id": "#/properties/additionalInformation",
      "type": "object",
      "required": [
        "errorCode",
        "errorMessage"
      ],
      "properties": {
        "errorCode": {
          "$id": "#/properties/additionalInformation/properties/errorCode",
          "type": "integer",
          "description": "A unique numeric error code for the underlying exception.",
          "examples": [
            561675734
          ]
        },
        "errorMessage": {
          "$id": "#/properties/additionalInformation/properties/errorMessage",
          "type": "string",
          "examples": [
            "Not a valid message for schema class com.r3.logicapps.workbench.WorkbenchSchema$FlowInvocationRequestSchema: #: 4 schema violations found"
          ]
        }
      }
    },
    "contractLedgerIdentifier": {
      "$id": "#/properties/contractLedgerIdentifier",
      "type": "string",
      "description": "The linear ID of the input state (if the transaction had one)."
    },
    "status": {
      "$id": "#/properties/status",
      "type": "string",
      "enum": [
        "Failure"
      ]
    },
    "messageSchemaVersion": {
      "$id": "#/properties/messageSchemaVersion",
      "type": "string",
      "pattern": "^\\d+.\\d+.\\d+$"
    }
  }
}